{% extends "base.html" %}

{% block title %}Login - Rehabilitation Monitoring System{% endblock %}

{% block content %}
<div class="card" style="max-width: 500px; margin: 5rem auto;">
    <h2 style="text-align: center; margin-bottom: 2rem; color: #4a5568;">Rehabilitation Monitoring System</h2>
    
    <div style="display: flex; margin-bottom: 2rem;">
        <button id="doctor-tab" class="login-tab active" onclick="switchTab('doctor')">Doctor Login</button>
        <button id="caregiver-tab" class="login-tab" onclick="switchTab('caregiver')">Caregiver Login</button>
    </div>
    
    <div id="doctor-form" class="login-form active">
        <div class="form-header">
            <div class="form-icon doctor-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.56 3.69a9 9 0 0 0-2.92 1.95"/><path d="M3.69 8.56A9 9 0 0 0 3 12"/><path d="M3.69 15.44a9 9 0 0 0 1.95 2.92"/><path d="M8.56 20.31A9 9 0 0 0 12 21"/><path d="M15.44 20.31a9 9 0 0 0 2.92-1.95"/><path d="M20.31 15.44A9 9 0 0 0 21 12"/><path d="M20.31 8.56a9 9 0 0 0-1.95-2.92"/><path d="M15.44 3.69A9 9 0 0 0 12 3"/><circle cx="12" cy="12" r="1"/><path d="m15.2 10.6-1.4 1.4"/><path d="m8.2 17.6 1.4-1.4"/><path d="m8.2 6.4 1.4 1.4"/></svg>
            </div>
            <h3>Doctor Login</h3>
        </div>
        <form method="POST" action="{{ url_for('login') }}">
            <input type="hidden" name="role" value="doctor">
            <div class="form-group">
                <label for="doctor-username">Username:</label>
                <input type="text" id="doctor-username" name="username" required>
            </div>
            
            <div class="form-group">
                <label for="doctor-password">Password:</label>
                <input type="password" id="doctor-password" name="password" required>
            </div>
            
            <button type="submit" class="btn" style="width: 100%;">Login as Doctor</button>
        </form>
    </div>
    
    <div id="caregiver-form" class="login-form">
        <div class="form-header">
            <div class="form-icon caregiver-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            </div>
            <h3>Caregiver Login</h3>
        </div>
        <form method="POST" action="{{ url_for('login') }}">
            <input type="hidden" name="role" value="caregiver">
            <div class="form-group">
                <label for="caregiver-username">Username:</label>
                <input type="text" id="caregiver-username" name="username" required>
            </div>
            
            <div class="form-group">
                <label for="caregiver-password">Password:</label>
                <input type="password" id="caregiver-password" name="password" required>
            </div>
            
            <button type="submit" class="btn" style="width: 100%; background-color: #38a169;">Login as Caregiver</button>
        </form>
    </div>
    
    
</div>

<style>
    .login-tab {
        flex: 1;
        padding: 12px;
        background: #f7fafc;
        border: none;
        border-bottom: 2px solid #e2e8f0;
        cursor: pointer;
        font-weight: 600;
        color: #718096;
        transition: all 0.3s;
    }
    
    .login-tab.active {
        color: #4a5568;
        border-bottom: 2px solid #667eea;
    }
    
    .login-form {
        display: none;
        padding: 1.5rem 0;
    }
    
    .login-form.active {
        display: block;
    }
    
    .form-header {
        display: flex;
        align-items: center;
        margin-bottom: 1.5rem;
    }
    
    .form-icon {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 1rem;
    }
    
    .doctor-icon {
        background: #ebf4ff;
        color: #3182ce;
    }
    
    .caregiver-icon {
        background: #e6fffa;
        color: #38a169;
    }
</style>

<script>
    function switchTab(tab) {
        // Hide all forms
        document.querySelectorAll('.login-form').forEach(form => {
            form.classList.remove('active');
        });
        
        // Deactivate all tabs
        document.querySelectorAll('.login-tab').forEach(tabEl => {
            tabEl.classList.remove('active');
        });
        
        // Activate selected tab and form
        document.getElementById(tab + '-form').classList.add('active');
        document.getElementById(tab + '-tab').classList.add('active');
    }
</script>
{% endblock %}
